---
description: '자바 트러블슈팅: scouter를 활용한 시스템 장애 진단 및 해결 노하우를 챕터 24을 요약한 내용입니다.'
---

# CHAP 24. scouter로 리소스 모니터링하기

scouter에서는 서버의 리소스를 모니터링하기 위한 다양한 기능 및 그래프들을 제공한다. 따라서 반드시 서버에 접속해서 명령어를 입력하지 않아도, scouter를 통해서 많은 지표들을 확인할 수 있으니 필요한 그래프들은 꼭 화면에 추가해 놓기 바란다.

## scouter 호스트 에이전트 확인

scouter에서 리소스를 모니터랑하기 위해서는 반드시 한 가지 준비해야 하는 것이 있다. 바로 호스트 에이전트다. 호스트 에이전트가 실행되고 있는지 먼저 확인부터 해보자

![](../../.gitbook/assets/111%20%2813%29.png)

만약 정상적으로 실행되고 있다면, 사용하고 있는 장비의 OS가 앞의 그림과 같이 수집 서버 바로 아래에 나타난다.

## scouter에서 제공하는 리소스 모니터링 종류

scouter에서 어떤 리소스 정보를 볼 수 있는지 확인하는 방법은 상단의 메뉴에 Collector → OS 종류\(Windows, Mac, Linux, Unix 등\)를 선택하는 것이다.

![](../../.gitbook/assets/222%20%2810%29.png)

개발 시에는 모든 항목을 확인할 필요는 없지만, 운영/성능 테스트 시에는 꼭 필요한 모니터링 항목들이 존재한다. 추천하는 항목은 다음과 같다.

* CPU
* Memory/SWAP Total
* Disk ReadBytes/WriteBytes
* Net RX Bytes/TX Bytes
* TIME\_WAIT \(성능 테스트 시 확인\)
* CLOSE\_WAIT \(성능 테스트 시 확인\)
* FIN\_WAIT \(성능 테스트 시 확인\)

## 실시간 프로세스 목록 확인하기

앞서 살펴본 top의 프로세스 목록 부분을 scouter에서도 확인할 수 있다. Objects 창에서 호스트 에이전트 이름을 선책한 후 Object Request → top을 누르면 다음과 같은 화면이 나타난다.

![](../../.gitbook/assets/333%20%288%29.png)

top 명령어를 통해서 본 것처럼 프로세스 목록과 CPU, 메모리 사용량을 한눈에 확인할 수 있다. 하지만 이 데이터를 가져올 때 서버에 부하를 줄 수 있기 때문에 목록 갱신은 수동으로 해야만 한다.

## 소켓 정보 확인하기

scouter를 활용하여 소켓 연결 상태도 모니터링이 가능하다. 만약 WAS에 아무런 요청이 없을 경우에는 scouter 관련 연결만 표시되겠지만, 사용자의 요청이 있거나 외부 서버에서 연결을 했을 때에는 아래 그림과 같이 목록이 추가되는 것을 확인할 수 있다.

